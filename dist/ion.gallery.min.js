!function(){"use strict";function e(e,n){function i(e){n.setGalleryLength(e.ionGalleryItems.length),n.setRowSize(parseInt(e.ionGalleryRow));for(var i=e.ionGalleryItems,t=[],l=n.getRowSize(),o=-1,a=0,s=0;s<i.length;s++)s%l===0&&(o++,t[o]=[],a=0),t[o][a]=i[s],a++;e.items=t,e.responsiveGrid=parseInt(1/l*100)}return i.$inject=["$scope"],{restrict:"AE",scope:{ionGalleryItems:"=ionGalleryItems",ionGalleryRow:"=ionGalleryRow"},controller:i,replace:!0,templateUrl:"gallery.html"}}angular.module("ion-gallery",["templates"]).directive("ionGallery",e),e.$inject=["$ionicPlatform","ionGalleryData"]}(),function(){"use strict";function e(){var e,n=3,i=this;this.setGalleryLength=function(n){e=n},this.getGalleryLength=function(){return e},this.setRowSize=function(e){var t=i.getGalleryLength;n=isNaN(e)===!0?3:e>t?t:0>=e?1:e},this.getRowSize=function(){return n}}angular.module("ion-gallery").service("ionGalleryData",e),e.$inject=[]}(),function(){"use strict";function e(){function e(e,n,i){n.css("height",n[0].offsetWidth*parseInt(e.$parent.responsiveGrid)/100+"px")}return{restrict:"A",link:e}}angular.module("ion-gallery").directive("ionImageSize",e),e.$inject=[]}(),function(){"use strict";function e(e,n){function i(e){var i,t,l=n.getGalleryLength(),o=n.getRowSize();e.selectedSlide=1,e.showImage=function(n,a){e.slides=[],t=n*o+a;var s=t,r=s-1,c=s+1;0>r&&(r=l-1),c>=l&&(c=0),e.slides[0]={thumbnail:e.ionGalleryItems[r].src},e.slides[1]={thumbnail:e.ionGalleryItems[s].src},e.slides[2]={thumbnail:e.ionGalleryItems[c].src},console.log("loadSingles: "+r+" "+s+" "+c),i=1,e.loadModal()},e.slideChanged=function(n){if(n!==i){var o,a;switch(console.log("loadSingles: "+i+" > "+n),i+">"+n){case"0>1":o=2,t++,a=t+1;break;case"1>2":o=0,t++,a=t+1;break;case"2>0":o=1,t++,a=t+1;break;case"0>2":o=1,t--,a=t-1;break;case"1>0":o=2,t--,a=t-1;break;case"2>1":o=0,t--,a=t-1}0>t&&(t=l-1),t>l&&(t=0),0>a&&(a=l+a),a>=l&&(a-=l),e.slides[o]={thumbnail:e.ionGalleryItems[a].src},i=n}}}function t(n,i,t){var l;n.loadModal=function(){e.fromTemplateUrl("slider.html",{scope:n,animation:"fade-in"}).then(function(e){l=e,n.openModal()})},n.openModal=function(){l.show()},n.closeModal=function(){l.hide()},n.$on("$destroy",function(){l.remove()})}return i.$inject=["$scope"],{restrict:"A",controller:i,link:t}}angular.module("ion-gallery").directive("ionSlider",e),e.$inject=["$ionicModal","ionGalleryData"]}(),angular.module("templates",[]).run(["$templateCache",function(e){e.put("gallery.html",'<div>\n  <div class="row" ng-repeat="item in items" ion-image-size>\n    <img \n         ng-repeat="photo in item track by $index"\n         class="col col-{{responsiveGrid}}"\n         ng-src="{{photo.src}}"\n         ng-click="showImage({{$parent.$index}},{{$index}})"\n         >\n  </div>\n  <div ion-slider></div>\n</div>'),e.put("slider.html",'<ion-modal-view class="blackBackground imageView">\n  <ion-header-bar class="headerView">\n    <button class="button button-outline button-light close-btn" ng-click="closeModal()">Done</button>\n  </ion-header-bar>\n    \n  <ion-content scroll="false">\n    <ion-slide-box does-continue="true" active-slide="selectedSlide" show-pager="false" class="listContainer" on-slide-changed="slideChanged($index)">\n      <ion-slide ng-repeat="single in slides track by $index">\n        <div class="item item-image centerPictureVertical gallery-slide-view">\n          <img ng-src="{{single.thumbnail}}">\n        </div>\n      </ion-slide>\n    </ion-slide-box>\n  </ion-content>\n</ion-modal-view>')}]);